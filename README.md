<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weather App README</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2em; color: #222; }
    code, pre { background: #f4f4f4; padding: 2px 4px; border-radius: 3px; }
    pre { padding: 1em; }
    h1, h2, h3 { color: #2c3e50; }
    ul { margin-bottom: 1em; }
    .structure { background: #f9f9f9; border-left: 4px solid #b4b4b4; padding: 1em; margin: 1em 0; }
  </style>
</head>
<body>

<h1>Weather App 🌤️</h1>

<p>
  A simple, secure, and container-ready Flask web application to check the current temperature for any city using the OpenWeatherMap API.<br>
  Includes local in-memory caching for efficiency and supports Docker deployment.
</p>

<h2>Features</h2>
<ul>
  <li>🌎 Search for current temperature by city name</li>
  <li>⚡ Fast local (in-memory) caching to reduce API calls</li>
  <li>🐳 Easy Docker containerization</li>
  <li>🔒 No secrets in code: API key loaded from environment variable</li>
  <li>🩺 Health check endpoint for cloud-native deployments</li>
</ul>

<h2>Quick Start</h2>
<ol>
  <li>
    <strong>Clone the repository</strong>
    <pre><code>
  git clone https://github.com/your-username/weather-app.git
  cd weather-app/app
    </code></pre>
  </li>
  <li>
    <strong>Install dependencies</strong>
    <pre><code>
  python3 -m venv venv
  source venv/bin/activate
  pip install -r requirements.txt
    </code></pre>
  </li>
  <li>
    <h2>Sign up for an account</h2>
      <p>
        Go to <a href="https://home.openweathermap.org/users/sign_up" target="_blank">OpenWeatherMap Sign Up</a> and create a free account using your email address and generate your own API key.
      </p>
    <strong>Set your OpenWeatherMap API key</strong>
    <pre><code>export OW_API_KEY=your_openweathermap_api_key</code></pre>
  </li>
  <li>
    <strong>Run the app</strong>
    <pre><code>python -m main</code></pre>
    Visit <a href="http://localhost:5000" target="_blank">http://localhost:5000</a> in your browser.
  </li>
</ol>

<h2>Docker Usage</h2>
<strong>Build the image</strong>
<pre><code>
  cd weather-app/app
  docker build -t weather-app .
</code></pre>

<strong>Run the container</strong>
<pre><code>docker run -p 5000:5000 -e OW_API_KEY=your_openweathermap_api_key weather-app</code></pre>

<h2>Health Check Endpoint</h2>
<p>For use with Docker, Kubernetes, or any load balancer:</p>
<pre><code>GET /health</code></pre>
<p>Returns:</p>
<pre><code>{
  "response": 200
}</code></pre>

<h2>Project Structure</h2>
<div class="structure">
<pre><code>weather-app/
    ├── app/
    │   ├── __init__.py
    │   ├── main.py
    │   ├── cache.py
    │   ├── weather.py
    │   ├── templates/
    │   │   └── index.html
    │   ├── requirements.txt
    │   ├── Dockerfile
    │   ├── .env.example
    └── .gitignore
    └── README.md
</code></pre>
</div>

<h2>Configuration</h2>
<ul>
  <li><strong>API Key:</strong> Set the <code>OW_API_KEY</code> environment variable to your OpenWeatherMap API key.</li>
  <li><strong>Cache Duration:</strong> Default is 1 hour. You can change this in <code>./app/cache.py</code>.</li>
</ul>

<h2>Testing</h2>
<p>Coming soon! (Or add your <code>pytest</code>-based tests in the <code>tests/</code> directory.)</p>

<h2>Continuous integration/Continuous deployment</h2>
<p>Coming soon! We intend to use Terraform & GitHub Actions</p>

<h2>Contributing</h2>
<ol>
  <li>Fork the repo</li>
  <li>Create your feature branch (<code>git checkout -b feature/your-feature</code>)</li>
  <li>Commit your changes (<code>git commit -am 'Add new feature'</code>)</li>
  <li>Push to the branch (<code>git push origin feature/your-feature</code>)</li>
  <li>Open a pull request</li>
</ol>

<h2>Credits</h2>
<ul>
  <li><a href="https://flask.palletsprojects.com/">Flask</a></li>
  <li><a href="https://openweathermap.org/api">OpenWeatherMap API</a></li>
</ul>

<p><strong>Questions or suggestions?</strong><br>
Open an issue or submit a pull request!</p>

</body>
</html>
